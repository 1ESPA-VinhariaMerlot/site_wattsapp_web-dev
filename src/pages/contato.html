<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contato</title>
    <link rel="stylesheet" href="../css/contato.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../js/contato.js">
</head>
<body>
    <header>
        <h1 class="logo">WattsApp</h1>
        <nav>
            <ul class="menu">
                <li><a href="../../index.html">Home</a></li>
                <li><a href="./sobre.html">Sobre</a></li>
                <li><a href="./portfolio.html">Portfólio</a></li>
                <li><a href="./quiz.html">Quiz</a></li>
                <li><a href="./contato.html">Contato</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section class="Contato">
            <h1>Fale Conosco</h1>
            <h2>Estamos aqui para ouvir você. Conecte-se com a equipe Wattsapp!</h2>
        </section>
    </main>
    <div class="form-contato">

        <form id="contato-form">

            <div class="form-group">
                <label for="nome"> Nome Completo *</label>
                <input type="text" id="nome" name="nome" placeholder="Digite seu nome" required>
            </div>

            <div class="form-group">
                <label for="email"> E-mail *</label>
                <input type="email" id="email" name="email" placeholder="exemplo@dominio.com" required>
            </div>

            <div class="form-group">
                <label for="telefone"> Telefone / WhatsApp</label>
                <input type="tel" id="telefone" name="telefone" placeholder="(XX) 9XXXX-XXXX">
            </div>

            <div class="form-group">
                <label for="assunto">Assunto *</label>
                <select id="assunto" name="assunto" required>
                    <option value="" disabled selected>Selecione um motivo...</option>
                    <option value="comercial">Quero comprar / Dúvidas Comerciais</option>
                    <option value="suporte">Suporte Técnico</option>
                    <option value="parceria">Proposta de Parceria (B2B)</option>
                    <option value="imprensa">Imprensa / Marketing</option>
                    <option value="feedback">Sugestões / Feedback</option>
                    <option value="outro">Outro Assunto</option>
                </select>
            </div>

            <div class="form-group">
                <label for="mensagem"> Sua Mensagem *</label>
                <textarea id="mensagem" name="mensagem" rows="6" placeholder=" Escreva sua mensagem aqui..." required></textarea>
            </div>

            <div class="form-group privacy-group">
                <input type="checkbox" id="privacidade" name="privacidade" required>
                <label for="privacidade" class="label-inline">
                    Eu li e concordo com a <a href="/politica-de-privacidade.html" target="_blank">Política de Privacidade</a>.
                </label>
            </div>

            <div class="form-group">
                <button type="submit" id="botton-enviar" class="botton-enviar">
                    Enviar Mensagem
                </button>
            </div>
            <div id="form-response"></div>

        </form>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            
            const form = document.getElementById("contact-form");
            const responseDiv = document.getElementById("form-response");
            const btnEnviar = document.getElementById("btn-enviar");

            form.addEventListener("submit", function(event) {

                event.preventDefault();

                btnEnviar.disabled = true;
                btnEnviar.textContent = " Enviando...";
                responseDiv.textContent = ""; 

                const formData = new FormData(form);
                const data = {
                    nome: formData.get("nome"),
                    email: formData.get("email"),
                    telefone: formData.get("telefone"),
                    assunto: formData.get("assunto"),
                    mensagem: formData.get("mensagem")
                };

                .then(response => {
                    return response.json().then(result => ({ok: response.ok, result}));
                })
                .then(({ ok, result }) => {
                    if (!ok) {
                        throw new Error(result.message || "Erro no servidor. Tente novamente.");
                    }

                    responseDiv.style.color = "green";
                    responseDiv.textContent = result.message; 
                    form.reset(); 
                })
                .catch(error => {

                    responseDiv.style.color = "red";
                    responseDiv.textContent = "Erro: " + error.message;
                    console.error("Erro no fetch:", error);
                })
                .finally(() => {
                    btnEnviar.disabled = false;
                    btnEnviar.textContent = "Enviar Mensagem";
                });
            });
        });
    </script>
    <footer>
        <p>Wattsapp — Energia que se transforma em consciência.</p>
        <p>
            <a href="https://www.instagram.com/fiapoficial">Instagram</a> |
            <a href="https://www.facebook.com/fiap/">Facebook</a> |
            <a href="https://www.linkedin.com/school/fiap/posts/?feedView=all">Linkedin</a>
        </p>
        <p>Contato: 11 98170-0028</p>
        <p> E-mail: <a href="contato@wattsapp.com.br">contato@wattsapp.com.br</a></p>
        <p>&copy; 2025 Wattsapp. Todos os direitos reservados.</p>
    </footer>
</body>
</html>